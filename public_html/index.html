<!DOCTYPE html>
<html lang="en">

<head>
    <title>Harmony Wellness - Home</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="SIT774 Team">
    <meta name="description" content="Harmony Wellness - Yoga, Fitness & Wellness">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar sticky-top navbar-expand-lg bg-aqua navbar-light p-2">
        <div class="container-fluid">
            <div class="navbar-brand d-flex align-items-center col-3">
                <a href="/"><img src="logo.JPG" alt="Logo" class="img-fluid" style="max-height: 80px;"></a>
                <a class="navbar-brand ms-2" href="/"
                    style="font-family: 'Lobster', cursive; font-size: 2.5rem; color: #153838;">
                    Harmony Wellness
                </a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav me-auto mb-1 mb-lg-0">
                    <li class="nav-item"><a class="nav-link" href="aboutUs.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="services.html">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="blogs.html">Blogs</a></li>
                    <li class="nav-item"><a class="nav-link" href="contactUs.html">Contact Us</a></li>
                </ul>
                <form class="d-flex align-items-center">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-primary me-2" type="submit">Search</button>
                    <button class="btn btn-success me-2" type="button" data-bs-toggle="modal"
                        data-bs-target="#loginModal">Login</button>
                    <button class="btn btn-secondary me-2" type="button" data-bs-toggle="modal"
                        data-bs-target="#signupModal">SignUp</button>
                </form>
            </div>
        </div>
    </nav>
    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="loginUsername" class="form-label">Username</label>
                            <input type="text" class="form-control" id="loginUsername" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <div class="text-danger" id="loginError"></div>
                        <button type="submit" class="btn btn-primary">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="signupModalLabel">Sign Up</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="signupForm">
                        <div class="mb-3">
                            <label for="signupUsername" class="form-label">Username</label>
                            <input type="text" class="form-control" id="signupUsername" name="username" required>
                        </div>
                        <div class="mb-3">
                            <label for="signupPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="signupPassword" name="password" required>
                        </div>
                        <div class="mb-3">
                            <label for="signupDOB" class="form-label">Date of Birth</label>
                            <input type="date" class="form-control" id="signupDOB" name="dob" required>
                        </div>
                        <div class="text-danger" id="signupError"></div>
                        <button type="submit" class="btn btn-primary">Sign Up</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="div-darker-background">
        <div id="carouselWork" class="carousel slide carousel-fade" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselWork" data-bs-slide-to="0" class="active"></button>
                <button type="button" data-bs-target="#carouselWork" data-bs-slide-to="1"></button>
                <button type="button" data-bs-target="#carouselWork" data-bs-slide-to="2"></button>
            </div>
            <div class="carousel-container">
                <div class="carousel-item active carousel-image">
                    <img src="excrcise.jpg" class="carousel-image" alt="EXERCISE IMAGE">
                </div>
                <div class="carousel-item carousel-image">
                    <img src="yoga.png" class="carousel-image" alt="YOGA IMAGE">
                </div>
                <div class="carousel-item carousel-image">
                    <img src="massage.jpg" class="carousel-image" alt="MASSAGE IMAGE">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselWork" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselWork" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>

        <!-- Three Column Layout -->
        <div class="p-2">
            <div class="row">

                <div class="col-md-3 div1-darker-background p-2" id="trends">
                    <h3>Wellness Trends</h3>
                </div>

                <div class="col-md-6 p-4">
                    <h2 class="text-center">Most Trusted Name in Yoga</h2>
                    <div class="row">
                        <div class="col-md-6 justify-content-center rounded">
                            <p> Whether you're looking for beginner-friendly yoga sessions to practice at home or
                                high-intensity workout classes to push your limits, our ever-expanding library has
                                something for everyone. With expert-led guidance, personalized routines, and a variety
                                of wellness-focused programs, you can find the perfect balance between fitness and
                                mindfulness. Explore sessions designed to improve flexibility, build strength, and
                                reduce
                                stress anytime, anywhere. No matter your experience level, our platform helps you stay
                                motivated and achieve your wellness goals at your own pace. </p>
                        </div>
                        <div class="col-md-6">
                            <img src="images/yoga1.png" alt="Yoga Classes image" class="img-fluid" width="100%">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h3 class="mt-4">Our Story</h3>
                            <br>
                            <p id="story-text"></p>
                        </div>
                        <div class="text-center col-md-12">
                            <img src="images/timeline.jpg" alt="Timeline" class="img-fluid">
                        </div>
                    </div>
                </div>

                <div class="col-md-3 p-3 div2-darker-background text-center" id="stats"></div>
            </div>
        </div>
    </div>
    <!-- View Users Button -->
    <div class="div2-darker-background">
        <button id="viewUsersBtn" class="btn btn-info mt-3">View User Details</button>
        <div id="usersTable"></div>
    </div>
    <footer class="text-center p-3 bg-dark text-white">
        <p>&copy; 2024 Harmony Wellness. All rights reserved.</p>
    </footer>

    <script defer src="homePage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const signupForm = document.getElementById("signupForm");
            const signupError = document.getElementById("signupError");
            const viewUsersBtn = document.getElementById("viewUsersBtn");
            const usersTableDiv = document.getElementById("usersTable");

            // Signup Form Submission
            signupForm.addEventListener("submit", function (e) {
                e.preventDefault();

                const username = document.getElementById("signupUsername").value.trim();
                const password = document.getElementById("signupPassword").value.trim();
                const dob = document.getElementById("signupDOB").value.trim();

                if (!username || !password || !dob) {
                    signupError.textContent = "Please fill out all fields.";
                    return;
                }

                fetch("http://localhost:3000/signup", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ username, password, dob }),
                })
                    .then(response => response.json())
                    .then(data => {
                        alert(data.message);
                        if (data.message === "Signup successful!") {
                            signupForm.reset();
                        }
                    })
                    .catch(error => {
                        console.error("Error signing up:", error);
                        alert("Error connecting to the server.");
                    });
            });

            // Fetch and Display Users
            viewUsersBtn.addEventListener("click", function () {
                console.log("Fetching user details...");

                fetch("http://localhost:3000/viewUsers")
                    .then(response => response.json())
                    .then(data => {
                        console.log("Received data:", data);

                        if (data.users.length === 0) {
                            usersTableDiv.innerHTML = "<h3>No users found.</h3>";
                        } else {
                            let usersTable = `
                            <div class="table-responsive col-8 p-4">
                        <table class="table table-bordered table-striped mt-3">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Password</th>
                                    <th>Date of Birth</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data.users.map(user => `
                                    <tr>
                                        <td>${user.id}</td>
                                        <td>${user.username}</td>
                                        <td>${user.password}</td>
                                        <td>${user.dob}</td>
                                    </tr>
                                `).join("")}
                            </tbody>
                        </table>
                        </div>
                    `;
                            usersTableDiv.innerHTML = usersTable;
                        }
                    })
                    .catch(error => {
                        console.error("Error fetching users:", error);
                        alert("Failed to fetch user details.");
                    });
            });
        });

    </script>
</body>

</html>